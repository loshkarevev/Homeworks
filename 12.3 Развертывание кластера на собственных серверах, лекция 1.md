### Известно:
* база данных должна быть отказоустойчивой (не менее трех копий, master-slave) и потребляет около 4 ГБ ОЗУ в работе;
* кэш должен быть аналогично отказоустойчивый, более трех копий, потребление: 4 ГБ ОЗУ, 1 ядро;
* фронтенд обрабатывает внешние запросы быстро, отдавая статику: не более 50 МБ ОЗУ на каждый экземпляр;
* бекенду требуется больше: порядка 600 МБ ОЗУ и по 1 ядру на копию.

Требования: опишите, сколько нод в кластере и сколько ресурсов (ядра, ОЗУ, диск) нужно для запуска приложения. Расчет вести из необходимости запуска 5 копий фронтенда и 10 копий бекенда, база и кеш.

### Ресурсы для приложения:
Наименование | 1 нода | Сколько нод | Всего | Резервирование | Итог |
-------------|--------|-------------|-------|----------------|------|
**HDD**
БД | 20 Гб | 3 | 60 Гб | 1,5 | 90 Гб |
Фронт | 2 Гб | 5 | 10 Гб | 1,5 | 15 Гб |
Бэк | 3 Гб | 10 | 30 Гб | 1,5 | 45 Гб|
**ОЗУ**
БД | 4 Гб | 3 | 12 Гб | 1,5 | 18 Гб |
Кэш | 4 Гб | 3 | 12 Гб | 1,5 | 18 Гб |
Фронт | 0,05 Гб | 5 | 0,25 Гб | 1,5 | 0,375 Гб |
Бэк | 0,6 Гб | 10 | 6 Гб | 1,5 | 9 Гб|
**ЦПУ**
БД | 8 | 3 | 24 | 1,5 | 36 |
Кэш | 1 | 3 | 3 | 1,5 | 4,5 |
Фронт | 1 | 5 | 5 | 1,5 | 7,5 |
Бэк | 1 | 10 | 10 | 1,5 | 15 Гб|

### Иные необходимые ресурсы:
Наименование | 1 нода | Сколько нод | Итог |
-------------|--------|-------------|------|
**HDD**
Master node | 20 Гб | 3 | 60 Гб | 1,5 | 90 Гб |

**ОЗУ**
Master node | 4 Гб | 3 | 12 Гб | 1,5 | 18 Гб |

**ЦПУ**
Master node | 8 | 3 | 24 | 1,5 | 36 |



6. Master node 1 шт = 2 ГБ ОЗУ, 2 ядра, 100 ГБ диск. Миниму 3 ноды, то 3 * 2= **6 ГБ ОЗУ**, 3 * 2 = **6 ядер**, 3 * 100 = **300 ГБ диск**; 
7. Worker node 1 шт = 1 ГБ ОЗУ, 1 ядро, 100 ГБ диск. Миниму 3 ноды, то 3 * 1= **3 ГБ ОЗУ**, 3 * 1 = **3 ядра**, 3 * 100 = **300 ГБ диск**; 
8. ОС = **1 ГБ ОЗУ**, **1 ядро**, **10 ГБ диск**;
9. Centralized monitoring = **5 ГБ ОЗУ**, **2 ядро**, **20 ГБ диск**;
10. Centralized logging = **11 ГБ ОЗУ**, **2 ядро**, **10 ГБ диск**;

## Должно быть минимум 6 нод для обеспечения требуемой отказоустойчивости. 

3 для master node с характеристиками (всего): **6 ГБ ОЗУ**, **6 ядер**, **300 ГБ диск**;

3 для worker node с характеристиками (всего): **46.5 ГБ ОЗУ**, **198 ядер**, **232.5 ГБ диск** (расчеты ниже);

Общесистемные: **26 ГБ ОЗУ**, **14 ядер**, **640 ГБ диск** (расчеты ниже).


### Расчеты для worker:

**ОЗУ**.
12 (БД) + 12 (Кэш) + 0.25 (фронт) + 6 (Бек) = 31 ГБ ОЗУ. Учитывая, что может выйти из строя одна нода, то необходимо умножить на 1.5. 31 * 1.5 = **46.5 ГБ ОЗУ**;

**Ядра**.
Для БД и Фронтэнда почему-то кол-во ядер не указали в задаче, напишу произвольные цифры. Пусть БД будет 8 ядер * 3 = 24 ядра. 
А для Фронтенда пусть будет 1 ядро * 5 = 5 ядра. Итого получаем 3 (Кэш) + 100 (Бек) + 24 (БД) + 5 (Фронт) = 132 ядра. 
Учитывая, что может выйти из строя одна нода, то необходимо умножить на 1.5. 132 * 1.5 = **198 ядра**;

**Диск**.
Данных также нет, пишу произвольно:
* БД 20 ГБ * 3 = 60 ГБ
* Кэш 20 ГБ * 3 = 60 ГБ
* Фронт 1 ГБ * 5 = 5 ГБ
* Бэк 3 ГБ * 10 = 30 ГБ

60 (БД) + 60 (Кэш) +5 (Фронт) + 30 (Бэк) = 155 ГД диск. Учитывая, что может выйти из строя одна нода, то необходимо умножить на 1.5. 155 * 1.5 = **232.5 ГБ диск**;

### Общесистемные: 

**ОЗУ**.
6 (master) + 3 (worker) + 1 (OS) + 5 (mon) + 11 (log) = **26 ГБ ОЗУ**;

**Ядра**.
6 (master) + 3 (worker) + 1 (OS) + 2 (mon) + 2 (log) = **14 ядер**;

**Диск**.
300 (master) + 300 (worker) + 10 (OS) + 20 (mon) + 10 (log) = **640 ГБ диск**;
